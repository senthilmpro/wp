(this.webpackJsonpwp=this.webpackJsonpwp||[]).push([[0],{22:function(t,n,e){},23:function(t,n,e){},43:function(t,n,e){},45:function(t,n,e){"use strict";e.r(n);var r=e(3),c=e.n(r),a=e(17),i=e.n(a),s=(e(22),e.p,e(23),e(1)),o=e.n(s),u=e(4),l=e(5),f=e(6),p=e.n(f),d={parseContent:function(t){return(new DOMParser).parseFromString(t,"text/html").querySelector("p").innerText},parseEncodedContent:function(t){return t&&t.length>4?t.substring(0,4)+t.substring(12):null},convertToObject:function(t){var n=atob(t);if(n&&"string"==typeof n)return JSON.parse(n)},fetchArchiveItem:function(){var t=Object(u.a)(o.a.mark((function t(n){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get(n).then((function(t){return t.data}));case 2:return e=t.sent,console.log(e),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},h=d,b=["Metadata","Archive BitTorrent","BitTorrent","Thumbnail","BitTorrentContents","Text"],j=[".NFO","__ia_thumb.jpg"].map((function(t){return t.toLowerCase()})),v="ORIGINAL",m=v,O={fileLinks:function(t){if(!t)return[];if(t.dark)return[];var n=t.server,e=t.dir,r=t.files,c=t.metadata,a=[];if(r&&r.length>0)if(a=r.filter((function(t){return-1==b.indexOf(t.format)})).filter((function(t){return!function(t){var n=!1;return j.forEach((function(e){-1!==t.indexOf(e.toLowerCase())&&(n=!0)})),n}(t.name)})).filter((function(t){return"original"==t.source})),m==v){var i=c.identifier;a=a.map((function(t){return"https://".concat("archive.org","/download/").concat(i,"/").concat(t.name)}))}else a=a.map((function(t){return"https://".concat(n).concat(e,"/").concat(t.name)}));return console.log("FILES: ",a),a},downloadUrl:function(t){var n,e=null===t||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.identifer;return"https://archive.org/download/".concat(e)}},x=e(8),g="archive1x.wordpress.com",k=10,w={fetchPostsUrl:function(t,n,e){return"https://public-api.wordpress.com/rest/v1.1/sites/".concat(t,"/posts?number=").concat(e,"&page=").concat(n,"&fields=title,content")},fetchWpContent:function(){var t=Object(u.a)(o.a.mark((function t(){var n,e,r,c,a,i=arguments;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:g,e=i.length>1&&void 0!==i[1]?i[1]:g,r=i.length>2&&void 0!==i[2]?i[2]:k,c=w.fetchPostsUrl(n,e,r),t.prev=4,t.next=7,p.a.get(c).then((function(t){return t.data}));case 7:return a=t.sent,t.abrupt("return",a);case 11:return t.prev=11,t.t0=t.catch(4),t.abrupt("return",null);case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(){return t.apply(this,arguments)}}()},C=w,N={fetchDataAndTransform:function(){var t=Object(u.a)(o.a.mark((function t(n){var e,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.fetchWpContent(g,n,k);case 2:return e=t.sent,r=[],e.posts.forEach((function(t,n){var e=t.content,c=t.title,a=h.parseContent(e),i=h.parseEncodedContent(a),s=h.convertToObject(i),o=Object(x.a)(Object(x.a)({},s),{},{title:c});r.push(o)})),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},L=(e(43),e(0)),T=function(){var t=Object(r.useState)([]),n=Object(l.a)(t,2),e=n[0],c=n[1],a=Object(r.useState)(1),i=Object(l.a)(a,2),s=i[0],f=i[1],p=Object(r.useState)(null),d=Object(l.a)(p,2),b=d[0],j=d[1],v=Object(r.useState)(null),m=Object(l.a)(v,2),x=m[0],g=m[1],k=function(){var t=Object(u.a)(o.a.mark((function t(n){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.fetchDataAndTransform(n);case 2:e=t.sent,console.log("LINKS ARRAY: ",e),c(e);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),w=function(){var t=Object(u.a)(o.a.mark((function t(n){var e,r,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n!=x){t.next=4;break}g(null),t.next=13;break;case 4:return j(null),g(n),e=(e=n.replace("/details/","/metadata/")).replace("http://","https://"),t.next=10,h.fetchArchiveItem(e);case 10:r=t.sent,c=O.fileLinks(r),j(c);case 13:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){k(s)}),[s]),Object(L.jsxs)("div",{className:"container Home",children:[Object(L.jsx)("div",{children:Object(L.jsxs)("h2",{children:["Archive WP"," - page ",s]})}),Object(L.jsx)("div",{className:"LinkItemsContainer",children:e.map((function(t){return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)("div",{className:"LinkItem",children:[Object(L.jsxs)("div",{children:[Object(L.jsx)("span",{class:"dot"})," ",Object(L.jsxs)("a",{href:t.url,target:"_blank",children:[" ",t.title]})]}),Object(L.jsx)("button",{className:"btn btn-default btn-sm links-btn",onClick:function(){return w(t.url)},children:"Links"})]}),t.url==x&&Object(L.jsx)("div",{className:"fileLinks",children:Object(L.jsx)("ul",{children:b&&b.map((function(t){return Object(L.jsx)("li",{className:"file-link",children:Object(L.jsx)("a",{href:t,children:t})})}))})})]})}))}),Object(L.jsxs)("div",{className:"btn-container",children:[Object(L.jsx)("button",{className:"btn btn-info",onClick:function(){s>1&&f((function(t){return t-1}))},children:"Previous"}),Object(L.jsx)("button",{className:"btn btn-info",onClick:function(){f((function(t){return t+1}))},children:"Next"})]})]})};var S=function(){return Object(L.jsx)("div",{className:"App",children:Object(L.jsx)(T,{})})},A=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,46)).then((function(n){var e=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,i=n.getTTFB;e(t),r(t),c(t),a(t),i(t)}))};i.a.render(Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(S,{})}),document.getElementById("root")),A()}},[[45,1,2]]]);
//# sourceMappingURL=main.ee264ab0.chunk.js.map