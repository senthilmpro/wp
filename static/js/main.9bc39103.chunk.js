(this.webpackJsonpwp=this.webpackJsonpwp||[]).push([[0],{22:function(t,e,n){},23:function(t,e,n){},43:function(t,e,n){},45:function(t,e,n){"use strict";n.r(e);var r=n(3),c=n.n(r),a=n(17),s=n.n(a),i=(n(22),n.p,n(23),n(1)),o=n.n(i),u=n(4),l=n(5),f=n(6),p=n.n(f),h={parseContent:function(t){return(new DOMParser).parseFromString(t,"text/html").querySelector("p").innerText},parseEncodedContent:function(t){return t&&t.length>4?t.substring(0,4)+t.substring(12):null},convertToObject:function(t){var e=atob(t);if(e&&"string"==typeof e)return JSON.parse(e)},fetchArchiveItem:function(){var t=Object(u.a)(o.a.mark((function t(e){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get(e).then((function(t){return t.data}));case 2:return n=t.sent,console.log(n),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d=h,b=["Metadata","Archive BitTorrent","BitTorrent","Thumbnail","BitTorrentContents","Text"],j={fileLinks:function(t){if(!t)return[];if(t.dark)return[];var e=t.server,n=t.dir,r=t.files,c=[];return r&&r.length>0&&(c=(c=r.filter((function(t){return-1==b.indexOf(t.format)})).filter((function(t){return"original"==t.source}))).map((function(t){return"https://".concat(e).concat(n,"/").concat(t.name)}))),console.log("FILES: ",c),c},downloadUrl:function(t){var e,n=null===t||void 0===t||null===(e=t.metadata)||void 0===e?void 0:e.identifer;return"https://archive.org/download/".concat(n)}},v=n(8),O="archive1x.wordpress.com",m=10,x={fetchPostsUrl:function(t,e,n){return"https://public-api.wordpress.com/rest/v1.1/sites/".concat(t,"/posts?number=").concat(n,"&page=").concat(e,"&fields=title,content")},fetchWpContent:function(){var t=Object(u.a)(o.a.mark((function t(){var e,n,r,c,a,s=arguments;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:O,n=s.length>1&&void 0!==s[1]?s[1]:O,r=s.length>2&&void 0!==s[2]?s[2]:m,c=x.fetchPostsUrl(e,n,r),t.prev=4,t.next=7,p.a.get(c).then((function(t){return t.data}));case 7:return a=t.sent,t.abrupt("return",a);case 11:return t.prev=11,t.t0=t.catch(4),t.abrupt("return",null);case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(){return t.apply(this,arguments)}}()},g=x,k={fetchDataAndTransform:function(){var t=Object(u.a)(o.a.mark((function t(e){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.fetchWpContent(O,e,m);case 2:return n=t.sent,r=[],n.posts.forEach((function(t,e){var n=t.content,c=t.title,a=d.parseContent(n),s=d.parseEncodedContent(a),i=d.convertToObject(s),o=Object(v.a)(Object(v.a)({},i),{},{title:c});r.push(o)})),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=(n(43),n(0)),C=function(){var t=Object(r.useState)([]),e=Object(l.a)(t,2),n=e[0],c=e[1],a=Object(r.useState)(1),s=Object(l.a)(a,2),i=s[0],f=s[1],p=Object(r.useState)(null),h=Object(l.a)(p,2),b=h[0],v=h[1],O=Object(r.useState)(null),m=Object(l.a)(O,2),x=m[0],g=m[1],C=function(){var t=Object(u.a)(o.a.mark((function t(e){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.fetchDataAndTransform(e);case 2:n=t.sent,console.log("LINKS ARRAY: ",n),c(n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(u.a)(o.a.mark((function t(e){var n,r,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e!=x){t.next=4;break}g(null),t.next=12;break;case 4:return g(e),n=(n=e.replace("/details/","/metadata/")).replace("http://","https://"),t.next=9,d.fetchArchiveItem(n);case 9:r=t.sent,c=j.fileLinks(r),v(c);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){C(i)}),[i]),Object(w.jsxs)("div",{className:"container Home",children:[Object(w.jsx)("div",{children:Object(w.jsxs)("h2",{children:["Archive WP"," - page ",i]})}),Object(w.jsx)("div",{className:"LinkItemsContainer",children:n.map((function(t){return Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:"LinkItem",children:[Object(w.jsx)("span",{class:"dot"})," ",Object(w.jsxs)("a",{href:t.url,target:"_blank",children:[" ",t.title]}),Object(w.jsx)("button",{className:"btn btn-primary btn-sm links-btn",onClick:function(){return N(t.url)},children:"Links"})]}),t.url==x&&Object(w.jsx)("div",{className:"fileLinks",children:Object(w.jsx)("ul",{children:b&&b.map((function(t){return Object(w.jsx)("li",{children:Object(w.jsx)("a",{href:t,children:t})})}))})})]})}))}),Object(w.jsxs)("div",{className:"btn-container",children:[Object(w.jsx)("button",{className:"btn",onClick:function(){i>1&&f((function(t){return t-1}))},children:"Previous"}),Object(w.jsx)("button",{className:"btn",onClick:function(){f((function(t){return t+1}))},children:"Next"})]})]})};var N=function(){return Object(w.jsx)("div",{className:"App",children:Object(w.jsx)(C,{})})},T=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),r(t),c(t),a(t),s(t)}))};s.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(N,{})}),document.getElementById("root")),T()}},[[45,1,2]]]);
//# sourceMappingURL=main.9bc39103.chunk.js.map